{"ast":null,"code":"var _jsxFileName = \"/Users/romanheviak/Desktop/GitHub/Project/react EPAM/src/Components/FilmProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState, useMemo } from \"react\";\nimport axios from \"axios\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { Context } from \"../context\";\nimport \"../Style/FilmProfile.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FilmProfile = () => {\n  _s();\n\n  var _film$image, _film$genres, _film$rating;\n\n  const params = useParams();\n  const {\n    film,\n    setFilm,\n    liked,\n    setLiked\n  } = useContext(Context);\n  let history = useHistory();\n  const [toggle, setToggle] = useState(false);\n\n  function truncate(string, n) {\n    var _string, _string2, _string3, _string4;\n\n    string = (_string = string) === null || _string === void 0 ? void 0 : _string.replace(\"</p>\", \" \").replace(\"<p>\", \" \");\n    string = (_string2 = string) === null || _string2 === void 0 ? void 0 : _string2.replace(\"<b>\", \" \").replace(\"</b>\", \" \");\n    string = (_string3 = string) === null || _string3 === void 0 ? void 0 : _string3.replace(\"<i>\", \" \").replace(\"</i>\", \" \");\n    return ((_string4 = string) === null || _string4 === void 0 ? void 0 : _string4.length) > n ? string.substr(0, n - 1) + \"...\" : string;\n  }\n\n  const backToHomepage = event => {\n    event.preventDefault();\n    history.push(\"/homepage\");\n  };\n\n  useEffect(() => {\n    async function FetchData() {\n      const request = await axios.get(`https://api.tvmaze.com/shows/${params.id}`);\n      setFilm(request.data);\n    }\n\n    FetchData();\n  }, []);\n  const [disable, setDisable] = React.useState(false);\n\n  const addToLiked = () => {\n    let id = liked.map(i => i.id);\n    console.log(id);\n\n    if (toggle === true) {\n      setToggle(false);\n    } else setToggle(true);\n\n    setLiked(liked.concat(film));\n    setDisable(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"filmProfile\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loginPageBackground\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        onClick: backToHomepage,\n        className: \"loginLogo\",\n        src: \"https://pngpress.com/wp-content/uploads/2020/04/Netflix-logo.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: disable,\n        onClick: addToLiked,\n        className: `addToLiked ${toggle && \"addToLikedDone\"}`,\n        children: \"Push to liked\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filmInfo\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: film === null || film === void 0 ? void 0 : (_film$image = film.image) === null || _film$image === void 0 ? void 0 : _film$image.original\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filmText\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: film.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Genres: \", film === null || film === void 0 ? void 0 : (_film$genres = film.genres) === null || _film$genres === void 0 ? void 0 : _film$genres.join(', ')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: truncate(film.summary)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Rating: \", film === null || film === void 0 ? void 0 : (_film$rating = film.rating) === null || _film$rating === void 0 ? void 0 : _film$rating.average]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FilmProfile, \"CX2EwWAEDBmNFpE0buiugZ5dYTs=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = FilmProfile;\nexport default FilmProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilmProfile\");","map":{"version":3,"sources":["/Users/romanheviak/Desktop/GitHub/Project/react EPAM/src/Components/FilmProfile.js"],"names":["React","useContext","useEffect","useState","useMemo","axios","useHistory","useParams","Context","FilmProfile","params","film","setFilm","liked","setLiked","history","toggle","setToggle","truncate","string","n","replace","length","substr","backToHomepage","event","preventDefault","push","FetchData","request","get","id","data","disable","setDisable","addToLiked","map","i","console","log","concat","image","original","name","genres","join","summary","rating","average"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState, useMemo } from \"react\";\nimport axios from \"axios\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { Context } from \"../context\";\nimport \"../Style/FilmProfile.css\";\n\nconst FilmProfile = () => {\n  const params = useParams();\n  const { film, setFilm, liked, setLiked } = useContext(Context);\n  let history = useHistory();\n  const [toggle, setToggle] = useState(false);\n\n  function truncate(string, n) {\n    string = string?.replace(\"</p>\", \" \").replace(\"<p>\", \" \");\n    string = string?.replace(\"<b>\", \" \").replace(\"</b>\", \" \");\n    string = string?.replace(\"<i>\", \" \").replace(\"</i>\", \" \");\n    return string?.length > n ? string.substr(0, n - 1) + \"...\" : string;\n  }\n\n  const backToHomepage = (event) => {\n    event.preventDefault();\n    history.push(\"/homepage\");\n  };\n\n  useEffect(() => {\n    async function FetchData() {\n      const request = await axios.get(\n        `https://api.tvmaze.com/shows/${params.id}`\n      );\n      setFilm(request.data);\n    }\n    FetchData();\n  }, []);\n\n  const [disable, setDisable] = React.useState(false);\n  \n  const addToLiked = () => {\n    let id = liked.map((i) => i.id);\n    console.log(id);\n    if (toggle === true) {\n      setToggle(false);\n    } else setToggle(true);\n    \n    setLiked(liked.concat(film));\n    setDisable(true)\n  };\n\n\n\n\n\n  return (\n    <div className=\"filmProfile\">\n      <div className=\"loginPageBackground\">\n        <img\n          onClick={backToHomepage}\n          className=\"loginLogo\"\n          src=\"https://pngpress.com/wp-content/uploads/2020/04/Netflix-logo.png\"\n        />\n        <button\n          disabled={disable} \n          onClick={addToLiked}\n          className={`addToLiked ${toggle && \"addToLikedDone\"}`}\n        >\n          Push to liked\n        </button>\n      </div>\n      <div className=\"filmInfo\">\n        <img src={film?.image?.original}></img>\n        <div className=\"filmText\">\n          <h1>{film.name}</h1>\n          <p>Genres: {film?.genres?.join(', ')}</p>\n          <p>{truncate(film.summary)}</p>\n          <p>Rating: {film?.rating?.average}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FilmProfile;\n"]},"metadata":{},"sourceType":"module"}