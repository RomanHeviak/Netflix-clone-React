{"ast":null,"code":"var _jsxFileName = \"/Users/romanheviak/Desktop/GitHub/Project/react EPAM/src/Components/FilmProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState, useMemo } from \"react\";\nimport axios from \"axios\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { Context } from \"../context\";\nimport \"../Style/FilmProfile.css\";\nimport { auth } from '../firebase';\nimport { dataBase } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FilmProfile = () => {\n  _s();\n\n  var _film$image, _film$genres, _film$rating;\n\n  const params = useParams();\n  const {\n    film,\n    setFilm,\n    favorite,\n    setFiked\n  } = useContext(Context);\n  let history = useHistory();\n  const [isLiked, setIsLiked] = useState(false);\n  const [likes, setLikes] = useState([]);\n\n  function truncate(string, n) {\n    var _string, _string2, _string3, _string4;\n\n    string = (_string = string) === null || _string === void 0 ? void 0 : _string.replace(\"</p>\", \" \").replace(\"<p>\", \" \");\n    string = (_string2 = string) === null || _string2 === void 0 ? void 0 : _string2.replace(\"<b>\", \" \").replace(\"</b>\", \" \");\n    string = (_string3 = string) === null || _string3 === void 0 ? void 0 : _string3.replace(\"<i>\", \" \").replace(\"</i>\", \" \");\n    return ((_string4 = string) === null || _string4 === void 0 ? void 0 : _string4.length) > n ? string.substr(0, n - 1) + \"...\" : string;\n  }\n\n  const backToHomepage = event => {\n    event.preventDefault();\n    history.push(\"/homepage\");\n  };\n\n  async function FetchData() {\n    const request = await axios.get(`https://api.tvmaze.com/shows/${params.id}`);\n    setFilm(request.data);\n  }\n\n  console.log('liked', liked);\n\n  const updateLikes = () => {\n    dataBase.ref(`likes/${params.id}`).on('value', snapshot => {\n      const arr = snapshot.val();\n\n      if (arr) {\n        if (arr.filter(e => e.userId == userUID).length > 0) {\n          setIsLiked(true);\n        } else {\n          setIsLiked(false);\n        }\n\n        setLikes(arr);\n      } else {\n        setIsLiked(false);\n        setLikes([]);\n      }\n    });\n  };\n\n  useEffect(() => {\n    FetchData();\n    updateLikes();\n    dataBase.ref(`${userUID}/favorite`).on('value', snapshot => {\n      const arr = snapshot.val();\n\n      if (arr) {\n        arr.length === 0 ? setLiked([]) : setLiked(arr);\n      }\n    });\n  }, []);\n  let userUID = JSON.parse(sessionStorage.getItem(\"user\")).uid;\n\n  const addToLiked = () => {\n    console.log('Initial liked :', liked);\n\n    if (!checkIfFilIsLiked(film.id)) {\n      let newFav = [...liked, film];\n      dataBase.ref(`${userUID}/favorite`).set(newFav).then(() => {\n        setLiked(newFav);\n      }).catch(error => {\n        alert(error);\n      });\n    } else {\n      let newFav = liked.filter(e => e.id != film.id);\n      dataBase.ref(`${userUID}/favorite`).set(newFav).then(() => {\n        setLiked(newFav);\n      }).catch(error => {\n        alert(error);\n      });\n    }\n  };\n\n  const like = () => {\n    if (!isLiked) {\n      dataBase.ref(`likes/${film.id}`).set([...likes, {\n        userId: userUID\n      }]).then(() => {\n        updateLikes();\n      }).catch(error => {\n        alert(error);\n      });\n    } else {\n      dataBase.ref(`likes/${film.id}`).set(likes.filter(e => e.userId != userUID)).then(() => {\n        updateLikes();\n      }).catch(error => {\n        alert(error);\n      });\n    }\n  };\n\n  const checkIfFilIsLiked = filmId => {\n    if (liked.filter(e => e.id == filmId).length == 0) {\n      return false;\n    }\n\n    return true;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"filmProfile\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loginPageBackground\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        onClick: backToHomepage,\n        className: \"loginLogo\",\n        src: \"https://pngpress.com/wp-content/uploads/2020/04/Netflix-logo.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addToLiked,\n        className: checkIfFilIsLiked(film.id) ? \"addToLikedDone\" : \"addToLiked\",\n        children: checkIfFilIsLiked(film.id) ? 'delete from favorite' : \"add to favorite\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filmInfo\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: film === null || film === void 0 ? void 0 : (_film$image = film.image) === null || _film$image === void 0 ? void 0 : _film$image.original\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filmText\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: film.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Genres: \", film === null || film === void 0 ? void 0 : (_film$genres = film.genres) === null || _film$genres === void 0 ? void 0 : _film$genres.join(', ')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: truncate(film.summary)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Rating: \", film === null || film === void 0 ? void 0 : (_film$rating = film.rating) === null || _film$rating === void 0 ? void 0 : _film$rating.average]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Likes: \", likes.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: isLiked ? \"likesBtnDoone\" : \"likesBtn\",\n          onClick: like,\n          children: isLiked ? 'Dislike' : 'Like'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FilmProfile, \"Te6Sn6ErRQXTwxOY13mC4+5h7Og=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = FilmProfile;\nexport default FilmProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilmProfile\");","map":{"version":3,"sources":["/Users/romanheviak/Desktop/GitHub/Project/react EPAM/src/Components/FilmProfile.js"],"names":["React","useContext","useEffect","useState","useMemo","axios","useHistory","useParams","Context","auth","dataBase","FilmProfile","params","film","setFilm","favorite","setFiked","history","isLiked","setIsLiked","likes","setLikes","truncate","string","n","replace","length","substr","backToHomepage","event","preventDefault","push","FetchData","request","get","id","data","console","log","liked","updateLikes","ref","on","snapshot","arr","val","filter","e","userId","userUID","setLiked","JSON","parse","sessionStorage","getItem","uid","addToLiked","checkIfFilIsLiked","newFav","set","then","catch","error","alert","like","filmId","image","original","name","genres","join","summary","rating","average"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState, useMemo } from \"react\";\nimport axios from \"axios\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { Context } from \"../context\";\nimport \"../Style/FilmProfile.css\";\nimport { auth } from '../firebase';\nimport { dataBase } from \"../firebase\";\n\nconst FilmProfile = () => {\n  const params = useParams();\n  const { film, setFilm, favorite, setFiked } = useContext(Context);\n  let history = useHistory();\n  const [isLiked, setIsLiked] = useState(false);\n  const [likes, setLikes] = useState([]);\n\n  function truncate(string, n) {\n    string = string?.replace(\"</p>\", \" \").replace(\"<p>\", \" \");\n    string = string?.replace(\"<b>\", \" \").replace(\"</b>\", \" \");\n    string = string?.replace(\"<i>\", \" \").replace(\"</i>\", \" \");\n    return string?.length > n ? string.substr(0, n - 1) + \"...\" : string;\n  }\n\n  const backToHomepage = (event) => {\n    event.preventDefault();\n    history.push(\"/homepage\");\n  };\n\n  async function FetchData() {\n    const request = await axios.get(\n      `https://api.tvmaze.com/shows/${params.id}`\n    );\n    setFilm(request.data);\n  }\n  console.log('liked',liked);\n\n  const updateLikes=()=>{\n    dataBase\n    .ref(`likes/${params.id}`)\n    .on('value', snapshot=>{\n      const arr = snapshot.val();\n      if(arr){\n        if(arr.filter(e=>e.userId == userUID).length > 0){\n          setIsLiked(true);\n        }else{\n          setIsLiked(false);\n        }\n        setLikes(arr);\n      }else{\n        setIsLiked(false);\n        setLikes([]);\n      }\n    });\n  }\n\n  useEffect(() => {\n    FetchData();\n    updateLikes();\n    dataBase\n    .ref(`${userUID}/favorite`)\n    .on('value', snapshot=>{\n      const arr = snapshot.val()\n      if(arr){\n        arr.length === 0? setLiked([]):setLiked(arr)\n      }\n    })\n  }, []);\n\n  let userUID = JSON.parse(sessionStorage.getItem(\"user\")).uid\n\n  const addToLiked = () => {\n    console.log('Initial liked :',liked)\n    if(!checkIfFilIsLiked(film.id)){\n      let newFav = [...liked,film];\n      dataBase\n      .ref(`${userUID}/favorite`)\n      .set(newFav)\n      .then(()=>{\n        setLiked(newFav);\n      })\n      .catch((error)=>{\n        alert(error);\n      });\n    }else {\n      let newFav = liked.filter(e=>e.id != film.id);\n      dataBase\n      .ref(`${userUID}/favorite`)\n      .set(newFav)\n      .then(()=>{\n        setLiked(newFav);\n      })\n      .catch((error)=>{\n        alert(error);\n      });\n    }\n  };    \n\n  const like=()=>{\n    if(!isLiked){\n      dataBase\n      .ref(`likes/${film.id}`)\n      .set([...likes,{userId : userUID}])\n      .then(()=>{\n        updateLikes();\n      })\n      .catch((error)=>{\n        alert(error);\n      });\n    }else {\n      dataBase\n      .ref(`likes/${film.id}`)\n      .set(likes.filter(e=>e.userId != userUID))\n      .then(()=>{\n        updateLikes();\n      })\n      .catch((error)=>{\n        alert(error);\n      });\n    }\n  }\n\n  const checkIfFilIsLiked = (filmId) => {\n    if(liked.filter(e=>e.id == filmId).length == 0){\n      return false;\n    }\n    return true;\n  }\n\n  \n\n  return (\n    <div className=\"filmProfile\">\n      <div className=\"loginPageBackground\">\n        <img\n          onClick={backToHomepage}\n          className=\"loginLogo\"\n          src=\"https://pngpress.com/wp-content/uploads/2020/04/Netflix-logo.png\"\n        />\n        <button\n          onClick={addToLiked}\n          className={checkIfFilIsLiked(film.id)? \"addToLikedDone\":\"addToLiked\"}\n        >\n          {checkIfFilIsLiked(film.id)?'delete from favorite':\"add to favorite\"}\n        </button>\n\n      </div>\n      <div className=\"filmInfo\">\n        <img src={film?.image?.original}></img>\n        <div className=\"filmText\">\n          <h1>{film.name}</h1>\n          <p>Genres: {film?.genres?.join(', ')}</p>\n          <p>{truncate(film.summary)}</p>\n          <p>Rating: {film?.rating?.average}</p>\n          <p>Likes: {likes.length}</p>\n          <button\n        className={isLiked? \"likesBtnDoone\":\"likesBtn\"}\n        onClick={like}>{isLiked?'Dislike':'Like'}</button>\n        </div>\n        \n      </div>\n    </div>\n  );\n};\n\nexport default FilmProfile;\n"]},"metadata":{},"sourceType":"module"}